---
layout: disqus
title: Documentation
navtitle: Documentation
permalink: /documentation/
---

<h1 style="text-align: center">SCEditor Documentation</h1>
<p>SCEditor is designed to be a small, lightweight BBCode and HTML WYSIWYG editor.</p><p>Hopefully this documentation will cover most things needed but if you find something missing or have any questions/concerns please feel free to contact <a
href="http://www.samclarke.com/contact/">via my site</a>, <a
href="https://github.com/samclarke">via GitHub</a> or <a
href="http://www.samclarke.com/2011/07/sceditor/">by just leaving a comment</a>.</p>

<h2>Setup</h2>
<p>To set up the editor, first include the minified JS, CSS and, if needed, the language file.<br />e.g.:</p>

{% highlight html %}
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

<link rel="stylesheet" href="minified/jquery.sceditor.min.css" type="text/css" media="all" />
<script type="text/javascript" src="minified/jquery.sceditor.min.js"></script>
<script type="text/javascript" src="languages/nl.js"></script><!-- optional -->
{% endhighlight %}

<p>Then, to setup the editor on all textareas, simply do:</p>

{% highlight html %}
<script>
	$(document).ready(function() {
		$("textarea").sceditor({/* options here */});
	});
</script>
{% endhighlight %}

<p>or for the BBCode editor do:</p>

{% highlight html %}
<script>
	$(document).ready(function() {
		$("textarea").sceditorBBCodePlugin({/* options here */});
	});
</script>
{% endhighlight %}

<p>You can change "textarea" to any <a
href="http://api.jquery.com/category/selectors/">jQuery selector</a> (jQuery borrows from CSS selectors, most of which will work) to convert only specific textareas .</p><p>To only convert a textarea with a specific ID you can do “#id-of-textarea” or to convert all textareas with the specified class you can do “.class-name-here”;</p><h2>Options</h2><p>Options should be passed in the editor's constructor.<br
/> e.g.:</p>

{% highlight html %}
<script>
	$(document).ready(function() {
		$("textarea").sceditorBBCodePlugin({
			// option 1
			toolbar: "bold,italic,underline|source",
			// option 2
			locale: "no-NB"
		});
	});
</script>
{% endhighlight %}

<p><strong>toolbar</strong> <em>string</em></p>
<p style="padding-left: 30px;">A comma separated list of commands. To separate into groups, use the bar character (|) instead of a comma.<br /> e.g.: "bold,italic,underline|source"</p>

<p><strong>locale</strong> <em>string</em></p>
<p style="padding-left: 30px;">The locale to use, e.g. en-GB, en-US, no-NB, ect. The language file for the specified locale <em>must</em> be included before the editor is used and after the editors main JS file. e.g.</p>

{% highlight html %}
<script src="../minified/jquery.sceditor.min.js"></script>
<script src="../languages/nl.js"></script>
<!-- setup the editor here -->
{% endhighlight %}

<p><strong>charset </strong><em>string</em></p>
<p style="padding-left: 30px;">The charset to use. Defaults to utf-8.</p>

<p><strong>style</strong> <em>string</em></p>
<p style="padding-left: 30px;">The stylesheet used to style the HTML content of the WYSIWYG document, normally it should be jquery.sceditor.default.css. This dose not style the editor, the editor is styled by a separate stylesheet which is normally jquery.sceditor.css.</p>

<p><strong>fonts</strong> <em>string</em></p>
<p style="padding-left: 30px;">Comma separated list of fonts. There is no way to check if the fonts are installed on the users PC, so the fonts on the list should be kept to the few fonts that are included on most PC&#8217;s and Macs. The default list should be adequate for most uses.</p>

<p><strong>colors</strong> <em>string</em></p>
<p style="padding-left: 30px;">Comma separated list of HEX colours. Use the bar character (|) to signify a new column. If set to null a list of colours will automatically be generated</p>

<p><strong>emoticonsCompat</strong> <em>boolean</em></p>
<p style="padding-left: 30px;">If compatibility is enabled it will require emoticons to be surrounded by whitespace or EOL characters meaning if you have :/ it will not be replaced in http://. This mode currently has limited As You Type emoticon conversion support.</p>

<p><strong>emoticons</strong> <em>map</em></p>
<p style="padding-left: 30px;">Map in the following format:</p>

{% highlight javascript %}
emoticons:
{
    // emoticons to be included in the dropdown
    dropdown: {
        ":)": "emoticons/smile.png",
        ":angel:": "emoticons/angel.png"
    },
    // emoticons to be included in the more section
    more: {
        ":alien:": "emoticons/alien.png",
        ":blink:": "emoticons/blink.png"
    },
    // emoticons that are not shwon in the dropdown but will be converted ATY
    hidden: {
        ":aliasforalien:": "emoticons/alien.png",
        ":aliasforblink:": "emoticons/blink.png"
    }
},
{% endhighlight %}

<p><strong>width</strong> <em>int|string</em></p>
<p style="padding-left: 30px;">Should either be an int which will set the width of the editor in px, or a percentage string (e.g. “100%”). If set to null the width will be set to that of the textarea it is replacing.</p>

<p><strong>height</strong> <em>int|string</em></p>
<p style="padding-left: 30px;">Should either be an int which will set the height of the editor in px, or a percentage string (e.g. “100%”). If set to null the height will be set to that of the textarea it is replacing.</p>

<p><strong>resizeEnabled</strong> <em>bool</em></p>
<p style="padding-left: 30px;">If to allow the editor to be drag resized by the user. Defaults to true.</p>

<p><strong>resizeMinWidth</strong> <em>int</em></p>
<p style="padding-left: 30px;">Minimum width in px that the editor can be resized to. Set to null for half textarea width or -1 for no minimum.</p>

<p><strong>resizeMinHeight</strong> <em>int</em></p>
<p style="padding-left: 30px;">Minimum height in px that the editor can be resized to. Set to null for half textarea height or -1 for no minimum.</p>

<p><strong>resizeMaxHeight</strong> <em>int</em></p>
<p style="padding-left: 30px;">Maximum height in px that the editor can be resized to. Set to null for double textarea height or -1 for no maximum.</p>

<p><strong>resizeMaxWidth</strong> <em>int</em></p>
<p style="padding-left: 30px;">Maximum width in px that the editor can be resized to. Set to null for double textarea width or -1 for no maximum.</p>

<p><strong>getHtmlHandler</strong> <em>function</em></p>
<p style="padding-left: 30px;">This is called to filter the HTML before being shown in View Source or set as the textareas value. The function should take two arguments, the first being a string containnig the HTML the second being the DOM body node.</p>

<p><strong>getTextHandler</strong> <em>function</em></p>
<p style="padding-left: 30px;">This function will be called when switching from View Source mode back to WYSIWYG mode, or when loading the value from the textarea. The function should 1 argument, a string containing the content from the textarea.</p>

<p><strong>dateFormat</strong> <em>string</em></p>
<p style="padding-left: 30px;">Date format to use, specified with the strings year, month &amp; day e.g. &#8220;year-month-day&#8221;. The year, month and day strings will be replaced with the users current year, month and day.</p>


<h2>Functions</h2>
<p>To get a reference to the editors instance, simply do:</p>

{% highlight javascript %}$("selector used").data("sceditor").functionnamehere();{% endhighlight %}

<p><strong>createDropDown</strong> (menuItem, dropDownName, content, ieUnselectable);</p>
<p style="padding-left: 30px;">Creates a menu item drop down</p>
<p style="padding-left: 30px;"><strong>menuItem</strong> <em>HTMLElement</em><br /> The HTML button to align the drop down with</p><p
style="padding-left: 30px;"><strong>dropDownName</strong> <em>string</em><br /> Used for styling the dropown, the will be a class sceditor-dropDownName</p>
<p style="padding-left: 30px;"><strong>content</strong> <em>string</em><br /> The HTML content of the dropdown</p>
<p style="padding-left: 30px;"><strong>ieUnselectable</strong> <em>bool</em><br /> If to add the unselectable attribute to all the contents elements. Stops IE from deselecting the text in the editor</p>

<p><strong>closeDropDown</strong> (focus);</p><p
style="padding-left: 30px;">Closes the current drop down</p>
<p style="padding-left: 30px;"><strong>focus</strong> <em>bool</em><br /> If to focus the editor on close</p>

<p><strong>wysiwygEditorInsertHtml</strong> (html, endHtml, overrideCodeBlocking);</p>
<p style="padding-left: 30px;">Inserts HTML into WYSIWYG editor. If endHtml is defined and some text is selected, the selected text will be put in-between html and endHtml params. If endHtml isn&#8217;t defined and some text is selected it will be replaced by the inserted HTML.</p>
<p style="padding-left: 30px;">The HTML can have only one root node, if it has more than one only the first will be inserted. e.g. with: “&lt;b&gt;test&lt;/b&gt;&lt;i&gt;test2&lt;/i&gt;” only “&lt;b&gt;test&lt;/b&gt;” will be inserted. To fix this you can do: “&lt;span&gt;&lt;b&gt;test&lt;/b&gt;&lt;i&gt;test2&lt;/i&gt;&lt;/span&gt;”</p>
<p style="padding-left: 30px;"><strong>html</strong> <em>string</em><br /> The HTML to insert</p>
<p style="padding-left: 30px;"><strong>endHtml</strong> <em>string</em><br /> If specified instead of the inserted HTML replacing the selected text the selected text will be placed between html and endHtml. If there is no selected text html and endHtml will be concatenated together.</p>

<p><strong>wysiwygEditorInsertText</strong> (text);</p>
<p style="padding-left: 30px;">Like wysiwygEditorInsertHtml except it converts any HTML to text</p><p
style="padding-left: 30px;"><strong>text</strong> <em>string</em><br /> The text to insert</p>
<p><strong>getWysiwygSelectedHtml</strong> ();</p>
<p style="padding-left: 30px;">Gets the currently selected HTML</p><p><strong>getWysiwygEditorValue</strong> (filter);</p>
<p style="padding-left: 30px;">Gets the WYSIWYG editors HTML between the body tags</p>
<p style="padding-left: 30px;"><strong>filter</strong> <em>bool</em><br /> If to filter the value through the getHtmlHandler</p>

<p><strong>getTextareaValue</strong> (filter);</p>
<p style="padding-left: 30px;">Gets the view sourse value from the textarea</p>
<p style="padding-left: 30px;"><strong>filter</strong> <em>bool</em><br /> If to filter the value through the getTextHandler</p>

<p><strong>setWysiwygEditorValue</strong> (html);</p>
<p style="padding-left: 30px;">Sets the value of the WYSIWYG editor</p>
<p style="padding-left: 30px;"><strong>html</strong> <em>string</em><br /> The HTML to set</p>

<p><strong>setTextareaEditorValue</strong> (text);</p>
<p style="padding-left: 30px;">Sets the value of the View Source editor</p>
<p style="padding-left: 30px;"><strong>text</strong> <em>string</em><br /> The text to set</p>

<p><strong>updateTextareaValue</strong> ();</p>
<p style="padding-left: 30px;">Updates the value of the textarea the editor is replacing, this is called before the form is submitted.</p><p><strong>toggleTextMode</strong> ();</p>
<p style="padding-left: 30px;">Toggles the editors mode between WYSIWYG and View Source modes.</p><p><strong>focus</strong> ();</p>
<p style="padding-left: 30px;">Focuses the editor.</p><p><strong>execCommand</strong> (command, param);</p>
<p style="padding-left: 30px;">Executes a command on the WYSIWYG editor. The command can be any of the DesignMode/ContentEditable execCommands that browsers support.</p>
<p style="padding-left: 30px;"><strong>command</strong> <em>string</em><br /> The command to execute</p>
<p style="padding-left: 30px;"><strong>param</strong><br /> The commands parameter</p>

<p><strong>_</strong> (string, arg1, arg2, arg3, ect.);</p>
<p style="padding-left: 30px;">Translates a string into the current locale being used. Replaces {1}, {2}, {3}, ect. With arg 1, arg 2, arg 3, ec.t</p>
<p style="padding-left: 30px;"><strong>string</strong> <em>string</em><br /> The string to translat</p>
<p style="padding-left: 30px;"><strong>args</strong><br /> The args to be replaced in the string</p>


<h2>Styling</h2>

<p>The editor has two style sheets, one to style the editor and it&#8217;s toolbars, and one to style the content inside the editor.</p><h3>Styling the editor</h3><p>The editors default styling is all in jquery.sceditor.css.</p>

<p>Outline of the editor&#8217;s classes:</p>
<pre><strong>div.sceditor-container</strong>
    The container for the whole editor
    <strong>div.sceditor-toolbar</strong>
        The container for the whole toolbar
        <strong> div.sceditor-group</strong>
            A toolbar group
            <strong> a.sceditor-button</strong>
                A toolbar button
            <strong> a.sceditor-button-*</strong>
                Same as the previous class but * is replaced with the buttons
                command name, e.g. .sceditor-button-bold, .sceditor-button-italic, ect.
                <strong> div</strong>
                    Div containing the buttons accessibility text and normally has the
                    background image is set to the button's icon too
    <strong> iframe</strong>
        Iframe containing the WYSIWYG editor
    <strong> textarea</strong>
        Textarea used in the view source mode
    <strong> div.sceditor-grip</strong>
        Grip used to resize the editor
    <strong> div.sceditor-resize-cover</strong>
        Div which covers the editor during resizing
    <strong> div.sceditor-dropdown</strong>
        Div containing the dropdown</pre>

<p>The file jquery.sceditor.css should act as a good example of styling the editor.</p>


<h3>Styling the editors content</h3>

<p>Styling the editors content should be much easier than the editor, there are no special classes used just plain HTML. The default content styling is kept in jjquery.sceditor.default.css.</p>


<h2>Adding Commands</h2>

<p>There are two functions for adding commands, they are $.sceditor.setCommand which is used to set a HTML command and $.sceditorBBCodePlugin.setCommand which is used to set a BBCode convertion command.</p>

<p><strong>$.sceditor.setCommand(</strong>name, exec, [tooltip], [keypress])</p>
<p style="padding-left: 30px;">If you use $.sceditor.setCommand with a name that already exists, it will update that command instead of creating a new one.</p>
<p style="padding-left: 30px;"><strong>Name </strong><em>string</em><br /> The name used in the toolbar string, e.g. source, link, ect.</p>
<p style="padding-left: 30px;"><strong>Exec</strong> <em>function</em><br /> The function called when the button is pressed. The keyword this will be set to the editors instance.</p>
<p style="padding-left: 30px;"><strong>Tooltip</strong> <em>string</em><br /> The translatable tooltip shown when the use hovers over the button, e.g. View Source, Insert a link, ect.</p>
<p style="padding-left: 30px;"><strong>Keypress</strong> <em>Function</em><br /> The function called each time a key is pressed</p>

<p>Example of adding a heading command:</p>

{% highlight html %}
<script>
	$(document).ready(function() {
		$.sceditor.setCommand(
			"headers",
			function(caller) {
				var	editor    = this,
					content   = $("<div />"),
					clickFunc = function (e) {
						editor.execCommand("formatblock", "<h" + $(this).data('sceditor-hsize') + ">");
						editor.closeDropDown(true);
						e.preventDefault();
					};
				for (var i=1; i<=6; i++) {
					content.append(
						$('<a href="#"><h' + i + '>Heading ' + i + '</h' + i + '></a>;')
							.data('sceditor-hsize', i)
							.click(clickFunc));
				}
				editor.createDropDown(caller, "header-picker", content);
		 	},
			"Format Headers"
		);
</script>
{% endhighlight %}

<p><strong>$.sceditorBBCodePlugin.setCommand(</strong>name, tags, styles, format, html)</p>
<p style="padding-left: 30px;"><strong>Name </strong><em>string</em><br /> The BBCodes name</p>
<p style="padding-left: 30px;"><strong>Tags</strong> <em>map</em><br /> A map of all the tags this BBCode applies to with which attributes and attribute values, e.g.:</p>
{% highlight javascript %}img: null{% endhighlight %}
<p style="padding-left: 30px;">will apply to any img tags.</p>
{% highlight javascript %}img: {
	src: null
}{% endhighlight %}
<p style="padding-left: 30px;">will apply to any img tags with a src attribute.</p>
{% highlight javascript %}img: {
	src: ['localhost/test.png', 'localhost/orange.png']
}{% endhighlight %}
<p style="padding-left: 30px;">will apply to any img tags with a src attribute that has a value of “localhost/test.png” or “localhost/orange.png.”</p>

<p style="padding-left: 30px;"><strong>Styles</strong> <em>string</em><br /> Like tags it should be a map of all the styles this BBCode applies to, e.g.:</p>
{% highlight javascript %}"font-family": null{% endhighlight %}
<p style="padding-left: 30px;">will apply to any font-family styling.</p>
{% highlight javascript %}"font-family": ['Arial', 'Gill Sans']{% endhighlight %}
<p style="padding-left: 30px;">will apply to any font-family styling with the value "Arial" or "Gill Sans"..</p>
<p style="padding-left: 30px;"><strong>Format</strong> <em>Function|String</em><br /> A string for format the matching tags with. Should contain {0} which will be replaced with the tags content, e.g. “[b]{0}[/b]”.</p>
<p style="padding-left: 30px;">It can also be a function taking 2 parameters element and content, and returning a BBCode string.</p>
<p style="padding-left: 30px;"><strong>HTML</strong> <em>Function|String</em><br /> Identical to except this should be the HTML version of the BBCode, e.g. "&lt;b&gt;{0}&lt;/b&gt;".</p>
<p style="padding-left: 30px;">It can also be a function which takes 4 parameters, instance, bbcode, attrsMap, content.</p>
<p style="padding-left: 30px;">Instance will be the converters instance, BBCode will be the BBCode string being converted, e.g. b for [b], ect., attrsMap will be a map of any attributes, content will be a string containing any content of the BBCode.</p>

<p>Example of adding custom BBCodes:</p>

{% highlight html %}
<script>
$.sceditorBBCodePlugin.setCommand("h1", { h1: null }, null, "[h1]{0}[/h1]", "<h1>{0}</h1>");
$.sceditorBBCodePlugin.setCommand("h2", { h2: null }, null, "[h2]{0}[/h2]", "<h2>{0}</h2>");
$.sceditorBBCodePlugin.setCommand("h3", { h3: null }, null, "[h3]{0}[/h3]", "<h3>{0}</h3>");
$.sceditorBBCodePlugin.setCommand("h4", { h4: null }, null, "[h4]{0}[/h4]", "<h4>{0}</h4>");
$.sceditorBBCodePlugin.setCommand("h5", { h5: null }, null, "[h5]{0}[/h5]", "<h5>{0}</h5>");
$.sceditorBBCodePlugin.setCommand("h6", { h6: null }, null, "[h6]{0}[/h6]", "<h6>{0}</h6>");
</script>
{% endhighlight %}
